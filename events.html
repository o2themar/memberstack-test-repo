<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Upcoming Events</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Memberstack webflow package -->
<!-- Memberstack webflow package -->
<script data-memberstack-app="app_cmgwwkrmn00020tvugegz8x01" src="https://static.memberstack.com/scripts/v2/memberstack.js" type="text/javascript"></script>
  <style>body{font-family:system-ui;max-width:720px;margin:40px auto;padding:0 16px}</style>
  <style>
    body{font-family:system-ui;max-width:760px;margin:40px auto;padding:0 16px}
    .event{border:1px solid #ddd;padding:12px;border-radius:8px;margin:12px 0}
    .event h3{margin:0 0 8px}
    .muted{color:#666}
    .btn{cursor:pointer;border:1px solid #333;padding:6px 10px;border-radius:6px;background:#fff}
  </style>
</head>
<body>
  <h1>Upcoming Events</h1>
  <div id="events">Loading...</div>

  <script>
  const API_LIST_EVENTS = "https://hook.us2.make.com/n6to8zarrq34vkmwrs2rkn9y8dklxgwx";

  (async () => {
    const res = await fetch(API_LIST_EVENTS);
    const events = await res.json();
    const list = document.getElementById("events");
    list.innerHTML = "";
    if (!events.array.length) {
      list.textContent = "No upcoming events.";
      return;
    }
    for (const ev of events.array) {
      const div = document.createElement("div");
      div.className = "event";
      div.innerHTML = `
        <h3>${ev.Name}</h3>
        <div class="muted">${new Date(ev.Date).toLocaleString()} - ${ev['End Time']} ${ev.Location ? "â€¢ " + ev.Location : ""}</div>
        <p>${ev.Description || ""}</p>
        <a href="/memberstack-test-repo/account.html?event=${ev.id}" class="btn">View / Register</a>
      `;
      list.appendChild(div);
    }
  })();
  </script>
</body>
</html>